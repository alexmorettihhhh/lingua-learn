{"ast":null,"code":"var _jsxFileName = \"E:\\\\grok\\\\client\\\\src\\\\pages\\\\LessonLearn.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport * as lessonService from '../services/lesson.service';\nimport * as progressService from '../services/progress.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LessonLearn = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [lesson, setLesson] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentWordIndex, setCurrentWordIndex] = useState(0);\n  const [showTranslation, setShowTranslation] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [completedWords, setCompletedWords] = useState([]);\n  const [isCompleted, setIsCompleted] = useState(false);\n  useEffect(() => {\n    if (!id) return;\n    const fetchLesson = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const response = await lessonService.getLesson(id);\n        if (response.success && response.data) {\n          setLesson(response.data);\n\n          // Fetch progress for this lesson\n          try {\n            const progressResponse = await progressService.getLessonProgress(id);\n            if (progressResponse.success && progressResponse.data) {\n              setProgress(progressResponse.data.completionPercentage);\n              setCompletedWords(progressResponse.data.completedWords || []);\n\n              // If all words are completed, set isCompleted to true\n              if (progressResponse.data.completionPercentage === 100) {\n                setIsCompleted(true);\n              }\n            }\n          } catch (error) {\n            // If there's no progress yet, that's okay\n            console.log('No progress data available');\n          }\n        } else {\n          setError(response.message || 'Не удалось загрузить урок');\n        }\n      } catch (error) {\n        setError(error.message || 'Ошибка при загрузке урока');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchLesson();\n  }, [id]);\n  const handleShowTranslation = () => {\n    setShowTranslation(true);\n  };\n  const handleKnowWord = async () => {\n    if (!lesson || !id || !Array.isArray(lesson.words)) return;\n    const currentWord = lesson.words[currentWordIndex];\n    const wordId = typeof currentWord === 'object' ? currentWord._id : currentWord;\n    if (!wordId) return;\n    try {\n      // Mark word as completed\n      await progressService.updateWordProgress(id, wordId);\n\n      // Add to completed words\n      if (!completedWords.includes(wordId)) {\n        const newCompletedWords = [...completedWords, wordId];\n        setCompletedWords(newCompletedWords);\n\n        // Calculate new progress\n        const newProgress = Math.round(newCompletedWords.length / lesson.words.length * 100);\n        setProgress(newProgress);\n\n        // If all words are completed, set isCompleted to true\n        if (newProgress === 100) {\n          setIsCompleted(true);\n        }\n      }\n\n      // Move to next word or complete lesson\n      if (currentWordIndex < lesson.words.length - 1) {\n        setCurrentWordIndex(currentWordIndex + 1);\n        setShowTranslation(false);\n      } else {\n        setIsCompleted(true);\n      }\n    } catch (error) {\n      console.error('Error updating word progress:', error);\n    }\n  };\n  const handleDontKnowWord = () => {\n    // Just move to the next word without marking it as known\n    if (!lesson || !Array.isArray(lesson.words)) return;\n    if (currentWordIndex < lesson.words.length - 1) {\n      setCurrentWordIndex(currentWordIndex + 1);\n      setShowTranslation(false);\n    } else {\n      setIsCompleted(true);\n    }\n  };\n  const handleRestartLesson = () => {\n    setCurrentWordIndex(0);\n    setShowTranslation(false);\n    setIsCompleted(false);\n  };\n  const handleFinishLesson = () => {\n    navigate(`/lessons/${id}`);\n  };\n\n  // Helper function to check if a word is an IWord object\n  const isWordObject = word => {\n    return typeof word === 'object' && word !== null && '_id' in word;\n  };\n  const getCurrentWord = () => {\n    if (!lesson || !Array.isArray(lesson.words) || lesson.words.length === 0) {\n      return null;\n    }\n    const currentWord = lesson.words[currentWordIndex];\n    if (isWordObject(currentWord)) {\n      return currentWord;\n    }\n    return null;\n  };\n  const renderProgressBar = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between mb-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium text-amoled-text-secondary\",\n          children: \"\\u041F\\u0440\\u043E\\u0433\\u0440\\u0435\\u0441\\u0441\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium text-amoled-text-secondary\",\n          children: [progress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-amoled-dark rounded-full h-2.5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-amoled-accent h-2.5 rounded-full transition-all duration-500\",\n          style: {\n            width: `${progress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this);\n  };\n  const renderWordCard = () => {\n    const currentWord = getCurrentWord();\n    if (!currentWord) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-amoled-text-secondary\",\n          children: \"\\u0421\\u043B\\u043E\\u0432\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-amoled-dark rounded-lg p-8 shadow-lg border border-amoled-light\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-3xl font-bold text-amoled-text-primary mb-2\",\n          children: currentWord.original\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), currentWord.examples && currentWord.examples.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-amoled-text-secondary italic\",\n          children: currentWord.examples[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), showTranslation ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8 text-center animate-fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-xl font-semibold text-amoled-accent mb-2\",\n          children: \"\\u041F\\u0435\\u0440\\u0435\\u0432\\u043E\\u0434:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-2xl text-amoled-text-primary\",\n          children: currentWord.translation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleShowTranslation,\n          className: \"bg-amoled-gray hover:bg-amoled-light text-amoled-text-primary font-medium py-2 px-4 rounded-lg transition-colors\",\n          children: \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u043F\\u0435\\u0440\\u0435\\u0432\\u043E\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDontKnowWord,\n          className: \"bg-red-900 hover:bg-red-800 text-red-100 font-bold py-3 px-6 rounded-lg shadow-md transition-colors focus:outline-none focus:ring-2 focus:ring-red-700 focus:ring-opacity-50\",\n          children: \"\\u041D\\u0435 \\u0437\\u043D\\u0430\\u044E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleKnowWord,\n          className: \"bg-green-900 hover:bg-green-800 text-green-100 font-bold py-3 px-6 rounded-lg shadow-md transition-colors focus:outline-none focus:ring-2 focus:ring-green-700 focus:ring-opacity-50\",\n          children: \"\\u0417\\u043D\\u0430\\u044E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this);\n  };\n  const renderCompletionScreen = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-amoled-dark rounded-lg p-8 shadow-lg border border-amoled-light text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-24 w-24 mx-auto text-amoled-accent\",\n          fill: \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-bold text-amoled-text-primary mt-4\",\n          children: \"\\u0423\\u0440\\u043E\\u043A \\u0437\\u0430\\u0432\\u0435\\u0440\\u0448\\u0435\\u043D!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-amoled-text-secondary mt-2\",\n          children: [\"\\u0412\\u044B \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u043F\\u0440\\u043E\\u0448\\u043B\\u0438 \\u0443\\u0440\\u043E\\u043A \\\"\", lesson === null || lesson === void 0 ? void 0 : lesson.title, \"\\\".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-amoled-gray p-4 rounded-lg inline-block\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-amoled-text-primary text-lg\",\n            children: [\"\\u041F\\u0440\\u043E\\u0433\\u0440\\u0435\\u0441\\u0441: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-bold text-amoled-accent\",\n              children: [progress, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRestartLesson,\n          className: \"bg-amoled-gray hover:bg-amoled-light text-amoled-text-primary font-bold py-3 px-6 rounded-lg shadow-md transition-colors focus:outline-none focus:ring-2 focus:ring-amoled-light focus:ring-opacity-50\",\n          children: \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u044C \\u0443\\u0440\\u043E\\u043A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleFinishLesson,\n          className: \"bg-amoled-accent hover:bg-amoled-accent-hover text-amoled-text-primary font-bold py-3 px-6 rounded-lg shadow-md transition-colors focus:outline-none focus:ring-2 focus:ring-amoled-accent focus:ring-opacity-50\",\n          children: \"\\u0417\\u0430\\u0432\\u0435\\u0440\\u0448\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8 min-h-screen bg-amoled-dark\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/lessons/${id}`,\n        className: \"text-amoled-accent hover:text-amoled-accent-hover flex items-center transition-colors\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-5 w-5 mr-1\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043A \\u0443\\u0440\\u043E\\u043A\\u0443\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center py-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 border-4 border-amoled-accent border-t-transparent rounded-full animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-900 border border-red-700 text-red-100 px-6 py-4 rounded-lg mb-6 shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-medium\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 9\n    }, this) : lesson ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold mb-6 text-amoled-text-primary text-center\",\n        children: lesson.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }, this), renderProgressBar(), isCompleted ? renderCompletionScreen() : renderWordCard()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 5\n  }, this);\n};\n_s(LessonLearn, \"hHQm73ypEqP50RJWf2x1WbKCnSg=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = LessonLearn;\nexport default LessonLearn;\nvar _c;\n$RefreshReg$(_c, \"LessonLearn\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","lessonService","progressService","jsxDEV","_jsxDEV","LessonLearn","_s","id","navigate","lesson","setLesson","loading","setLoading","error","setError","currentWordIndex","setCurrentWordIndex","showTranslation","setShowTranslation","progress","setProgress","completedWords","setCompletedWords","isCompleted","setIsCompleted","fetchLesson","response","getLesson","success","data","progressResponse","getLessonProgress","completionPercentage","console","log","message","handleShowTranslation","handleKnowWord","Array","isArray","words","currentWord","wordId","_id","updateWordProgress","includes","newCompletedWords","newProgress","Math","round","length","handleDontKnowWord","handleRestartLesson","handleFinishLesson","isWordObject","word","getCurrentWord","renderProgressBar","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","width","renderWordCard","original","examples","translation","onClick","renderCompletionScreen","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","title","to","fillRule","clipRule","_c","$RefreshReg$"],"sources":["E:/grok/client/src/pages/LessonLearn.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate, Link } from 'react-router-dom';\r\nimport * as lessonService from '../services/lesson.service';\r\nimport * as progressService from '../services/progress.service';\r\nimport { ILesson, IWord } from '../types';\r\n\r\nconst LessonLearn: React.FC = () => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const navigate = useNavigate();\r\n  const [lesson, setLesson] = useState<ILesson | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [currentWordIndex, setCurrentWordIndex] = useState(0);\r\n  const [showTranslation, setShowTranslation] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [completedWords, setCompletedWords] = useState<string[]>([]);\r\n  const [isCompleted, setIsCompleted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!id) return;\r\n    \r\n    const fetchLesson = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        const response = await lessonService.getLesson(id);\r\n        \r\n        if (response.success && response.data) {\r\n          setLesson(response.data);\r\n          \r\n          // Fetch progress for this lesson\r\n          try {\r\n            const progressResponse = await progressService.getLessonProgress(id);\r\n            if (progressResponse.success && progressResponse.data) {\r\n              setProgress(progressResponse.data.completionPercentage);\r\n              setCompletedWords(progressResponse.data.completedWords || []);\r\n              \r\n              // If all words are completed, set isCompleted to true\r\n              if (progressResponse.data.completionPercentage === 100) {\r\n                setIsCompleted(true);\r\n              }\r\n            }\r\n          } catch (error) {\r\n            // If there's no progress yet, that's okay\r\n            console.log('No progress data available');\r\n          }\r\n        } else {\r\n          setError(response.message || 'Не удалось загрузить урок');\r\n        }\r\n      } catch (error: any) {\r\n        setError(error.message || 'Ошибка при загрузке урока');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchLesson();\r\n  }, [id]);\r\n\r\n  const handleShowTranslation = () => {\r\n    setShowTranslation(true);\r\n  };\r\n\r\n  const handleKnowWord = async () => {\r\n    if (!lesson || !id || !Array.isArray(lesson.words)) return;\r\n    \r\n    const currentWord = lesson.words[currentWordIndex];\r\n    const wordId = typeof currentWord === 'object' ? currentWord._id : currentWord;\r\n    \r\n    if (!wordId) return;\r\n    \r\n    try {\r\n      // Mark word as completed\r\n      await progressService.updateWordProgress(id, wordId);\r\n      \r\n      // Add to completed words\r\n      if (!completedWords.includes(wordId)) {\r\n        const newCompletedWords = [...completedWords, wordId];\r\n        setCompletedWords(newCompletedWords);\r\n        \r\n        // Calculate new progress\r\n        const newProgress = Math.round((newCompletedWords.length / lesson.words.length) * 100);\r\n        setProgress(newProgress);\r\n        \r\n        // If all words are completed, set isCompleted to true\r\n        if (newProgress === 100) {\r\n          setIsCompleted(true);\r\n        }\r\n      }\r\n      \r\n      // Move to next word or complete lesson\r\n      if (currentWordIndex < lesson.words.length - 1) {\r\n        setCurrentWordIndex(currentWordIndex + 1);\r\n        setShowTranslation(false);\r\n      } else {\r\n        setIsCompleted(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating word progress:', error);\r\n    }\r\n  };\r\n\r\n  const handleDontKnowWord = () => {\r\n    // Just move to the next word without marking it as known\r\n    if (!lesson || !Array.isArray(lesson.words)) return;\r\n    \r\n    if (currentWordIndex < lesson.words.length - 1) {\r\n      setCurrentWordIndex(currentWordIndex + 1);\r\n      setShowTranslation(false);\r\n    } else {\r\n      setIsCompleted(true);\r\n    }\r\n  };\r\n\r\n  const handleRestartLesson = () => {\r\n    setCurrentWordIndex(0);\r\n    setShowTranslation(false);\r\n    setIsCompleted(false);\r\n  };\r\n\r\n  const handleFinishLesson = () => {\r\n    navigate(`/lessons/${id}`);\r\n  };\r\n\r\n  // Helper function to check if a word is an IWord object\r\n  const isWordObject = (word: string | IWord): word is IWord => {\r\n    return typeof word === 'object' && word !== null && '_id' in word;\r\n  };\r\n\r\n  const getCurrentWord = (): IWord | null => {\r\n    if (!lesson || !Array.isArray(lesson.words) || lesson.words.length === 0) {\r\n      return null;\r\n    }\r\n    \r\n    const currentWord = lesson.words[currentWordIndex];\r\n    \r\n    if (isWordObject(currentWord)) {\r\n      return currentWord;\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  const renderProgressBar = () => {\r\n    return (\r\n      <div className=\"mb-6\">\r\n        <div className=\"flex justify-between mb-1\">\r\n          <span className=\"text-sm font-medium text-amoled-text-secondary\">Прогресс</span>\r\n          <span className=\"text-sm font-medium text-amoled-text-secondary\">{progress}%</span>\r\n        </div>\r\n        <div className=\"w-full bg-amoled-dark rounded-full h-2.5\">\r\n          <div \r\n            className=\"bg-amoled-accent h-2.5 rounded-full transition-all duration-500\" \r\n            style={{ width: `${progress}%` }}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderWordCard = () => {\r\n    const currentWord = getCurrentWord();\r\n    \r\n    if (!currentWord) {\r\n      return (\r\n        <div className=\"text-center py-8\">\r\n          <p className=\"text-amoled-text-secondary\">Слово не найдено</p>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div className=\"bg-amoled-dark rounded-lg p-8 shadow-lg border border-amoled-light\">\r\n        <div className=\"mb-8 text-center\">\r\n          <h3 className=\"text-3xl font-bold text-amoled-text-primary mb-2\">{currentWord.original}</h3>\r\n          {currentWord.examples && currentWord.examples.length > 0 && (\r\n            <p className=\"text-amoled-text-secondary italic\">\r\n              {currentWord.examples[0]}\r\n            </p>\r\n          )}\r\n        </div>\r\n        \r\n        {showTranslation ? (\r\n          <div className=\"mb-8 text-center animate-fade-in\">\r\n            <h4 className=\"text-xl font-semibold text-amoled-accent mb-2\">Перевод:</h4>\r\n            <p className=\"text-2xl text-amoled-text-primary\">{currentWord.translation}</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"mb-8 text-center\">\r\n            <button\r\n              onClick={handleShowTranslation}\r\n              className=\"bg-amoled-gray hover:bg-amoled-light text-amoled-text-primary font-medium py-2 px-4 rounded-lg transition-colors\"\r\n            >\r\n              Показать перевод\r\n            </button>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"flex justify-between\">\r\n          <button\r\n            onClick={handleDontKnowWord}\r\n            className=\"bg-red-900 hover:bg-red-800 text-red-100 font-bold py-3 px-6 rounded-lg shadow-md transition-colors focus:outline-none focus:ring-2 focus:ring-red-700 focus:ring-opacity-50\"\r\n          >\r\n            Не знаю\r\n          </button>\r\n          <button\r\n            onClick={handleKnowWord}\r\n            className=\"bg-green-900 hover:bg-green-800 text-green-100 font-bold py-3 px-6 rounded-lg shadow-md transition-colors focus:outline-none focus:ring-2 focus:ring-green-700 focus:ring-opacity-50\"\r\n          >\r\n            Знаю\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderCompletionScreen = () => {\r\n    return (\r\n      <div className=\"bg-amoled-dark rounded-lg p-8 shadow-lg border border-amoled-light text-center\">\r\n        <div className=\"mb-8\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-24 w-24 mx-auto text-amoled-accent\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n          </svg>\r\n          <h2 className=\"text-3xl font-bold text-amoled-text-primary mt-4\">Урок завершен!</h2>\r\n          <p className=\"text-amoled-text-secondary mt-2\">\r\n            Вы успешно прошли урок \"{lesson?.title}\".\r\n          </p>\r\n        </div>\r\n        \r\n        <div className=\"mb-8\">\r\n          <div className=\"bg-amoled-gray p-4 rounded-lg inline-block\">\r\n            <p className=\"text-amoled-text-primary text-lg\">\r\n              Прогресс: <span className=\"font-bold text-amoled-accent\">{progress}%</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex justify-center space-x-4\">\r\n          <button\r\n            onClick={handleRestartLesson}\r\n            className=\"bg-amoled-gray hover:bg-amoled-light text-amoled-text-primary font-bold py-3 px-6 rounded-lg shadow-md transition-colors focus:outline-none focus:ring-2 focus:ring-amoled-light focus:ring-opacity-50\"\r\n          >\r\n            Повторить урок\r\n          </button>\r\n          <button\r\n            onClick={handleFinishLesson}\r\n            className=\"bg-amoled-accent hover:bg-amoled-accent-hover text-amoled-text-primary font-bold py-3 px-6 rounded-lg shadow-md transition-colors focus:outline-none focus:ring-2 focus:ring-amoled-accent focus:ring-opacity-50\"\r\n          >\r\n            Завершить\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8 min-h-screen bg-amoled-dark\">\r\n      <div className=\"mb-6\">\r\n        <Link to={`/lessons/${id}`} className=\"text-amoled-accent hover:text-amoled-accent-hover flex items-center transition-colors\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n            <path fillRule=\"evenodd\" d=\"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z\" clipRule=\"evenodd\" />\r\n          </svg>\r\n          Вернуться к уроку\r\n        </Link>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"flex justify-center py-12\">\r\n          <div className=\"w-16 h-16 border-4 border-amoled-accent border-t-transparent rounded-full animate-spin\"></div>\r\n        </div>\r\n      ) : error ? (\r\n        <div className=\"bg-red-900 border border-red-700 text-red-100 px-6 py-4 rounded-lg mb-6 shadow-md\">\r\n          <p className=\"font-medium\">{error}</p>\r\n        </div>\r\n      ) : lesson ? (\r\n        <div className=\"max-w-2xl mx-auto\">\r\n          <h1 className=\"text-3xl font-bold mb-6 text-amoled-text-primary text-center\">\r\n            {lesson.title}\r\n          </h1>\r\n          \r\n          {renderProgressBar()}\r\n          \r\n          {isCompleted ? renderCompletionScreen() : renderWordCard()}\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LessonLearn; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}