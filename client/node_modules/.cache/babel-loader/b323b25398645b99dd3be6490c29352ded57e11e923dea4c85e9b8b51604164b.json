{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import*as wordService from'../services/word.service';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const WordList=()=>{const[words,setWords]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedLanguage,setSelectedLanguage]=useState('');const[selectedCategory,setSelectedCategory]=useState('');const[page,setPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[categories,setCategories]=useState([]);const[languages,setLanguages]=useState([]);const languageOptions=[{code:'',name:'Все языки'},{code:'en',name:'Английский'},{code:'fr',name:'Французский'},{code:'de',name:'Немецкий'},{code:'es',name:'Испанский'},{code:'it',name:'Итальянский'},{code:'zh',name:'Китайский'},{code:'ja',name:'Японский'},{code:'ru',name:'Русский'}];useEffect(()=>{fetchWords();},[selectedLanguage,selectedCategory,page]);useEffect(()=>{// Сброс страницы при изменении фильтров\nif(page!==1){setPage(1);}else{fetchWords();}},[selectedLanguage,selectedCategory]);const fetchWords=async()=>{try{setLoading(true);setError(null);let response;if(selectedLanguage&&selectedCategory){// Если выбраны и язык, и категория, используем общий запрос с фильтрацией на клиенте\nresponse=await wordService.getWordsByLanguage(selectedLanguage,page);if(response.success&&response.data){setWords(response.data.filter(word=>word.category===selectedCategory));}}else if(selectedLanguage){response=await wordService.getWordsByLanguage(selectedLanguage,page);if(response.success&&response.data){setWords(response.data);}}else if(selectedCategory){response=await wordService.getWordsByCategory(selectedCategory,page);if(response.success&&response.data){setWords(response.data);}}else{response=await wordService.getWords(page);if(response.success&&response.data){setWords(response.data);}}if(response.success){if(response.pagination){setTotalPages(response.pagination.pages);}// Собираем уникальные категории и языки для фильтров\nif(response.data&&response.data.length>0){const uniqueCategories=Array.from(new Set(response.data.map(word=>word.category)));const uniqueLanguages=Array.from(new Set(response.data.map(word=>word.language)));setCategories(uniqueCategories);setLanguages(uniqueLanguages);}}else{setError(response.message||'Ошибка при загрузке слов');}}catch(error){setError(error.message||'Ошибка при загрузке слов');}finally{setLoading(false);}};const handleLanguageChange=e=>{setSelectedLanguage(e.target.value);};const handleCategoryChange=e=>{setSelectedCategory(e.target.value);};const handlePageChange=page=>{setPage(page);};const renderPagination=()=>{const pages=[];for(let i=1;i<=totalPages;i++){pages.push(/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(i),className:`px-3 py-1 mx-1 rounded ${page===i?'bg-blue-600 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,children:i},i));}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(page-1),disabled:page===1,className:`px-3 py-1 mx-1 rounded ${page===1?'bg-gray-100 text-gray-400 cursor-not-allowed':'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,children:\"\\xAB\"}),pages,/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(page+1),disabled:page===totalPages,className:`px-3 py-1 mx-1 rounded ${page===totalPages?'bg-gray-100 text-gray-400 cursor-not-allowed':'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,children:\"\\xBB\"})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"\\u0421\\u043B\\u043E\\u0432\\u0430\\u0440\\u044C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"language\",children:\"\\u042F\\u0437\\u044B\\u043A\"}),/*#__PURE__*/_jsx(\"select\",{id:\"language\",className:\"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",value:selectedLanguage,onChange:handleLanguageChange,children:languageOptions.map(lang=>/*#__PURE__*/_jsx(\"option\",{value:lang.code,children:lang.name},lang.code))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",htmlFor:\"category\",children:\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category\",className:\"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",value:selectedCategory,onChange:handleCategoryChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0412\\u0441\\u0435 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))]})]})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin\"})}):error?/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",children:error}):words.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"\\u0421\\u043B\\u043E\\u0432\\u0430 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B. \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100 text-gray-700\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left\",children:\"\\u0421\\u043B\\u043E\\u0432\\u043E\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left\",children:\"\\u041F\\u0435\\u0440\\u0435\\u0432\\u043E\\u0434\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left\",children:\"\\u042F\\u0437\\u044B\\u043A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left\",children:\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left\",children:\"\\u0421\\u043B\\u043E\\u0436\\u043D\\u043E\\u0441\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left\",children:\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:words.map(word=>{var _languageOptions$find;return/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:word.original}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:word.translation}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:((_languageOptions$find=languageOptions.find(lang=>lang.code===word.language))===null||_languageOptions$find===void 0?void 0:_languageOptions$find.name)||word.language}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:word.category}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded text-xs font-medium ${String(word.difficulty)==='easy'?'bg-green-100 text-green-800':String(word.difficulty)==='medium'?'bg-yellow-100 text-yellow-800':'bg-red-100 text-red-800'}`,children:String(word.difficulty)==='easy'?'Легкий':String(word.difficulty)==='medium'?'Средний':'Сложный'})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:/*#__PURE__*/_jsx(Link,{to:`/words/${word._id}`,className:\"text-blue-600 hover:text-blue-800\",children:\"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"})})]},word._id);})})]})}),totalPages>1&&renderPagination()]})]})]});};export default WordList;","map":{"version":3,"names":["React","useState","useEffect","Link","wordService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","WordList","words","setWords","loading","setLoading","error","setError","selectedLanguage","setSelectedLanguage","selectedCategory","setSelectedCategory","page","setPage","totalPages","setTotalPages","categories","setCategories","languages","setLanguages","languageOptions","code","name","fetchWords","response","getWordsByLanguage","success","data","filter","word","category","getWordsByCategory","getWords","pagination","pages","length","uniqueCategories","Array","from","Set","map","uniqueLanguages","language","message","handleLanguageChange","e","target","value","handleCategoryChange","handlePageChange","renderPagination","i","push","onClick","className","children","disabled","htmlFor","id","onChange","lang","_languageOptions$find","original","translation","find","String","difficulty","to","_id"],"sources":["E:/grok/client/src/pages/WordList.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport * as wordService from '../services/word.service';\r\nimport { IWord } from '../types';\r\n\r\nconst WordList: React.FC = () => {\r\n  const [words, setWords] = useState<IWord[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [selectedLanguage, setSelectedLanguage] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [categories, setCategories] = useState<string[]>([]);\r\n  const [languages, setLanguages] = useState<string[]>([]);\r\n\r\n  const languageOptions = [\r\n    { code: '', name: 'Все языки' },\r\n    { code: 'en', name: 'Английский' },\r\n    { code: 'fr', name: 'Французский' },\r\n    { code: 'de', name: 'Немецкий' },\r\n    { code: 'es', name: 'Испанский' },\r\n    { code: 'it', name: 'Итальянский' },\r\n    { code: 'zh', name: 'Китайский' },\r\n    { code: 'ja', name: 'Японский' },\r\n    { code: 'ru', name: 'Русский' },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchWords();\r\n  }, [selectedLanguage, selectedCategory, page]);\r\n\r\n  useEffect(() => {\r\n    // Сброс страницы при изменении фильтров\r\n    if (page !== 1) {\r\n      setPage(1);\r\n    } else {\r\n      fetchWords();\r\n    }\r\n  }, [selectedLanguage, selectedCategory]);\r\n\r\n  const fetchWords = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      let response;\r\n\r\n      if (selectedLanguage && selectedCategory) {\r\n        // Если выбраны и язык, и категория, используем общий запрос с фильтрацией на клиенте\r\n        response = await wordService.getWordsByLanguage(selectedLanguage, page);\r\n        if (response.success && response.data) {\r\n          setWords(response.data.filter((word: IWord) => word.category === selectedCategory));\r\n        }\r\n      } else if (selectedLanguage) {\r\n        response = await wordService.getWordsByLanguage(selectedLanguage, page);\r\n        if (response.success && response.data) {\r\n          setWords(response.data);\r\n        }\r\n      } else if (selectedCategory) {\r\n        response = await wordService.getWordsByCategory(selectedCategory, page);\r\n        if (response.success && response.data) {\r\n          setWords(response.data);\r\n        }\r\n      } else {\r\n        response = await wordService.getWords(page);\r\n        if (response.success && response.data) {\r\n          setWords(response.data);\r\n        }\r\n      }\r\n\r\n      if (response.success) {\r\n        if (response.pagination) {\r\n          setTotalPages(response.pagination.pages);\r\n        }\r\n\r\n        // Собираем уникальные категории и языки для фильтров\r\n        if (response.data && response.data.length > 0) {\r\n          const uniqueCategories = Array.from(\r\n            new Set(response.data.map((word: IWord) => word.category))\r\n          ) as string[];\r\n          const uniqueLanguages = Array.from(\r\n            new Set(response.data.map((word: IWord) => word.language))\r\n          ) as string[];\r\n          \r\n          setCategories(uniqueCategories);\r\n          setLanguages(uniqueLanguages);\r\n        }\r\n      } else {\r\n        setError(response.message || 'Ошибка при загрузке слов');\r\n      }\r\n    } catch (error: any) {\r\n      setError(error.message || 'Ошибка при загрузке слов');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLanguageChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    setSelectedLanguage(e.target.value);\r\n  };\r\n\r\n  const handleCategoryChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    setSelectedCategory(e.target.value);\r\n  };\r\n\r\n  const handlePageChange = (page: number) => {\r\n    setPage(page);\r\n  };\r\n\r\n  const renderPagination = () => {\r\n    const pages = [];\r\n    for (let i = 1; i <= totalPages; i++) {\r\n      pages.push(\r\n        <button\r\n          key={i}\r\n          onClick={() => handlePageChange(i)}\r\n          className={`px-3 py-1 mx-1 rounded ${\r\n            page === i\r\n              ? 'bg-blue-600 text-white'\r\n              : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n          }`}\r\n        >\r\n          {i}\r\n        </button>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"flex justify-center mt-6\">\r\n        <button\r\n          onClick={() => handlePageChange(page - 1)}\r\n          disabled={page === 1}\r\n          className={`px-3 py-1 mx-1 rounded ${\r\n            page === 1\r\n              ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n              : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n          }`}\r\n        >\r\n          &laquo;\r\n        </button>\r\n        {pages}\r\n        <button\r\n          onClick={() => handlePageChange(page + 1)}\r\n          disabled={page === totalPages}\r\n          className={`px-3 py-1 mx-1 rounded ${\r\n            page === totalPages\r\n              ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n              : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n          }`}\r\n        >\r\n          &raquo;\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">Словарь</h1>\r\n\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md mb-8\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\r\n          <div>\r\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"language\">\r\n              Язык\r\n            </label>\r\n            <select\r\n              id=\"language\"\r\n              className=\"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n              value={selectedLanguage}\r\n              onChange={handleLanguageChange}\r\n            >\r\n              {languageOptions.map((lang) => (\r\n                <option key={lang.code} value={lang.code}>\r\n                  {lang.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\" htmlFor=\"category\">\r\n              Категория\r\n            </label>\r\n            <select\r\n              id=\"category\"\r\n              className=\"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n              value={selectedCategory}\r\n              onChange={handleCategoryChange}\r\n            >\r\n              <option value=\"\">Все категории</option>\r\n              {categories.map((category) => (\r\n                <option key={category} value={category}>\r\n                  {category}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"flex justify-center py-8\">\r\n            <div className=\"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\r\n          </div>\r\n        ) : error ? (\r\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\r\n            {error}\r\n          </div>\r\n        ) : words.length === 0 ? (\r\n          <div className=\"text-center py-8 text-gray-500\">\r\n            Слова не найдены. Попробуйте изменить фильтры.\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full bg-white\">\r\n                <thead>\r\n                  <tr className=\"bg-gray-100 text-gray-700\">\r\n                    <th className=\"py-3 px-4 text-left\">Слово</th>\r\n                    <th className=\"py-3 px-4 text-left\">Перевод</th>\r\n                    <th className=\"py-3 px-4 text-left\">Язык</th>\r\n                    <th className=\"py-3 px-4 text-left\">Категория</th>\r\n                    <th className=\"py-3 px-4 text-left\">Сложность</th>\r\n                    <th className=\"py-3 px-4 text-left\">Действия</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {words.map((word) => (\r\n                    <tr key={word._id} className=\"border-b hover:bg-gray-50\">\r\n                      <td className=\"py-3 px-4\">{word.original}</td>\r\n                      <td className=\"py-3 px-4\">{word.translation}</td>\r\n                      <td className=\"py-3 px-4\">\r\n                        {languageOptions.find(lang => lang.code === word.language)?.name || word.language}\r\n                      </td>\r\n                      <td className=\"py-3 px-4\">{word.category}</td>\r\n                      <td className=\"py-3 px-4\">\r\n                        <span\r\n                          className={`px-2 py-1 rounded text-xs font-medium ${\r\n                            String(word.difficulty) === 'easy'\r\n                              ? 'bg-green-100 text-green-800'\r\n                              : String(word.difficulty) === 'medium'\r\n                              ? 'bg-yellow-100 text-yellow-800'\r\n                              : 'bg-red-100 text-red-800'\r\n                          }`}\r\n                        >\r\n                          {String(word.difficulty) === 'easy'\r\n                            ? 'Легкий'\r\n                            : String(word.difficulty) === 'medium'\r\n                            ? 'Средний'\r\n                            : 'Сложный'}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"py-3 px-4\">\r\n                        <Link\r\n                          to={`/words/${word._id}`}\r\n                          className=\"text-blue-600 hover:text-blue-800\"\r\n                        >\r\n                          Подробнее\r\n                        </Link>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            {totalPages > 1 && renderPagination()}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WordList; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}