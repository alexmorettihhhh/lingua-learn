# Скрипты для управления пользователями

В этой директории находятся скрипты для управления пользователями в приложении LinguaLearn.

## Выдача прав администратора

Существует несколько способов выдать пользователю права администратора:

### 1. Через скрипт makeAdmin.js

Этот скрипт обновляет роль существующего пользователя до администратора.

```bash
# Перейдите в корневую директорию сервера
cd server

# Запустите скрипт, указав email пользователя
node src/scripts/makeAdmin.js your@email.com
```

### 2. Через скрипт createAdmin.js

Этот скрипт создает нового пользователя с правами администратора.

```bash
# Перейдите в корневую директорию сервера
cd server

# Запустите скрипт, указав имя, email и пароль
node src/scripts/createAdmin.js "Имя Администратора" admin@example.com password123
```

### 3. Через API-эндпоинт (только в режиме разработки)

Вы можете использовать API-эндпоинт для выдачи прав администратора. Для этого нужно знать секретный ключ JWT_SECRET из файла .env.

#### Через клиентский скрипт:

```bash
# Перейдите в корневую директорию клиента
cd client

# Запустите скрипт, указав email пользователя и секретный ключ
node src/scripts/makeAdmin.js your@email.com your_jwt_secret
```

#### Через HTTP-запрос:

```bash
curl -X POST http://localhost:5000/api/auth/make-admin \
  -H "Content-Type: application/json" \
  -d '{"email":"your@email.com","secretKey":"your_jwt_secret"}'
```

### 4. Через MongoDB напрямую

Если у вас есть доступ к MongoDB, вы можете обновить роль пользователя напрямую:

```javascript
// Подключитесь к MongoDB и выполните:
db.users.updateOne(
  { email: "your@email.com" },
  { $set: { role: "admin" } }
);
```

## Примечание по безопасности

Эти скрипты предназначены только для разработки и тестирования. В производственной среде рекомендуется использовать более безопасные методы управления пользователями. 